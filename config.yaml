# ZenLive Server Configuration

# Server settings
server:
  # HTTP API port
  http_port: 7880
  
  # WebRTC signaling port
  rtc_port: 7881
  
  # Development mode (enables debug features)
  dev_mode: false
  
  # CORS settings
  cors:
    enabled: true
    allowed_origins:
      - "*"
    allowed_methods:
      - "GET"
      - "POST"
      - "PUT"
      - "DELETE"
      - "OPTIONS"

# Authentication settings
auth:
  # Default API key (leave empty to auto-generate)
  default_api_key: ""
  default_secret_key: ""
  
  # Token expiration (in hours)
  token_expiry: 6

# Redis configuration (for scaling and session management)
redis:
  enabled: false
  address: "localhost:6379"
  password: ""
  db: 0
  
  # Connection pool settings
  pool_size: 10
  min_idle_conns: 5

# WebRTC configuration
webrtc:
  # STUN servers for NAT traversal
  stun_servers:
    - "stun:stun.l.google.com:19302"
    - "stun:stun1.l.google.com:19302"
  
  # TURN servers (optional, for better connectivity)
  turn_servers: []
  
  # Maximum subscribers per stream
  max_subscribers: 100
  
  # Enable simulcast
  enable_simulcast: true
  
  # Enable bandwidth estimation
  enable_bwe: true

# Room settings
rooms:
  # Maximum participants per room (0 = unlimited)
  max_participants: 0
  
  # Auto-close empty rooms after (in seconds, 0 = never)
  empty_timeout: 300
  
  # Enable room recording
  enable_recording: false

# Logging configuration
logging:
  # Log level: debug, info, warn, error
  level: "info"
  
  # Log format: text, json
  format: "text"
  
  # Log file path (empty = stdout only)
  file: ""

# Metrics and monitoring
metrics:
  enabled: false
  port: 9090
  path: "/metrics"

# Storage configuration (for recordings)
storage:
  # Storage type: local, s3
  type: "local"
  
  # Local storage settings
  local:
    path: "./recordings"
  
  # S3 storage settings
  s3:
    bucket: ""
    region: ""
    access_key: ""
    secret_key: ""
    endpoint: ""
